// SPDX-License-Identifier: MIT

pragma solidity ^0.8.0;

import {IERC721} from "@openzeppelin/contracts/interfaces/IERC721.sol";
import {IERC721Receiver} from "@openzeppelin/contracts/interfaces/IERC721Receiver.sol";

interface ILocker is IERC721 {
  function balanceOfNFT(uint256) external view returns (uint256);

  function merge(uint256 _from, uint256 _to) external;

  function depositFor(uint256 _tokenId, uint256 _value) external;

  function createLockFor(
    uint256 _value,
    uint256 _lockDuration,
    address _to,
    bool _stakeNFT
  ) external returns (uint256);

  function createLock(
    uint256 _value,
    uint256 _lockDuration,
    bool _stakeNFT
  ) external returns (uint256);

  enum DepositType {
    DEPOSIT_FOR_TYPE,
    CREATE_LOCK_TYPE,
    INCREASE_LOCK_AMOUNT,
    INCREASE_UNLOCK_TIME,
    MERGE_TYPE
  }

  struct LockedBalance {
    uint256 amount;
    uint256 end;
    uint256 start;
    uint256 power;
  }

  event Deposit(
    address indexed provider,
    uint256 tokenId,
    uint256 value,
    uint256 indexed locktime,
    DepositType deposit_type,
    uint256 ts
  );

  event Withdraw(
    address indexed provider,
    uint256 tokenId,
    uint256 value,
    uint256 ts
  );

  event Supply(uint256 prevSupply, uint256 supply);

  event TokenAddressSet(address indexed oldToken, address indexed newToken);
  event StakingAddressSet(
    address indexed oldStaking,
    address indexed newStaking
  );
  event StakingBonusAddressSet(
    address indexed oldStakingBonus,
    address indexed newStakingBonus
  );
}
